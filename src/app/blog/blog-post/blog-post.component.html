<div class="blog-post">
  <div class="header">
    <div class="title">
      <h3>{{ post?.title }}</h3>
      <button
        *ngIf="$showAdminOptions | async"
        class="context-menu"
        mat-icon-button
        [matMenuTriggerFor]="menu"
        [matMenuTriggerData]="post?.id"
        aria-label="Example icon-button with a menu"
      >
        <mat-icon>more_vert</mat-icon>
      </button>
    </div>
    <app-image class="image" [src]="this.post?.image"></app-image>
  </div>
  <div class="body">
    <h5>
      {{ post?.description }}
    </h5>
  </div>
  <div class="date" *ngIf="post?.createdDate">
    <h5>{{ post?.createdDate?.toDate() | date }}</h5>
  </div>
  <div class="footer">
    <button mat-button color="primary" [routerLink]="['/blogPosts', post?.id]">
      Check out full post <mat-icon>arrow_right_alt</mat-icon>
    </button>
  </div>
</div>

<mat-menu #menu="matMenu">
  <button mat-menu-item (click)="delete()">
    <mat-icon>delete</mat-icon>
    <span>Delete</span>
  </button>
  <button mat-menu-item [routerLink]="['/blogPosts', post?.id, 'edit']">
    <mat-icon>edit</mat-icon>
    <span>Edit</span>
  </button>
  <button mat-menu-item [routerLink]="['/blogPost', 'create']">
    <mat-icon>add_circle_outline</mat-icon>
    <span>Create</span>
  </button>
</mat-menu>
